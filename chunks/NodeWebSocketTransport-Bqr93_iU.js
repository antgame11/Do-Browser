var f=Object.defineProperty;var c=s=>{throw TypeError(s)};var p=(s,e,t)=>e in s?f(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var i=(s,e,t)=>p(s,typeof e!="symbol"?e+"":e,t),d=(s,e,t)=>e.has(s)||c("Cannot "+t);var r=(s,e,t)=>(d(s,e,"read from private field"),t?t.call(s):e.get(s)),h=(s,e,t)=>e.has(s)?c("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),w=(s,e,t,n)=>(d(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t);import{at as g}from"./Providers-CTFhomsf.js";import{p as v}from"./index-vkF7KXw7.js";var E=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const L=g(E);/**
 * @license
 * Copyright 2018 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */var o;const l=class l{constructor(e){h(this,o);i(this,"onmessage");i(this,"onclose");w(this,o,e),r(this,o).addEventListener("message",t=>{this.onmessage&&this.onmessage.call(null,t.data)}),r(this,o).addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),r(this,o).addEventListener("error",()=>{})}static create(e,t){return new Promise((n,u)=>{const a=new L(e,[],{followRedirects:!0,perMessageDeflate:!1,allowSynchronousEvents:!1,maxPayload:268435456,headers:{"User-Agent":`Puppeteer ${v}`,...t}});a.addEventListener("open",()=>n(new l(a))),a.addEventListener("error",u)})}send(e){r(this,o).send(e)}close(){r(this,o).close()}};o=new WeakMap;let m=l;export{m as NodeWebSocketTransport};
//# sourceMappingURL=NodeWebSocketTransport-Bqr93_iU.js.map
